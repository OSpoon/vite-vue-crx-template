"use strict";const u="https://my-json-server.typicode.com/ospoon/mock";function a(n,c,o,i,s){o||(o={});const r={method:c,headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(o)};c==="get"&&Reflect.deleteProperty(r,"body");try{fetch(`${u}/${n}`,r).then(t=>{if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return t.json()}).then(t=>{i&&i(t)}).catch(t=>{s&&s(t)})}catch(t){s&&s(t)}}chrome.runtime.onMessage.addListener(function(n,c,o){return chrome.tabs.query({currentWindow:!0,active:!0},function(i){const{contentRequest:s}=n;if(s==="api-request"){let e=n.options;e.success=r=>{r.result="success",o(r)},e.fail=r=>{r.result="fail",o(r)},a(e.url,e.method,e.body,e.success,e.fail)}}),!0});
